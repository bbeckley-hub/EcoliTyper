
```bash
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•   â•šâ•â•      â•šâ•â•   â•šâ•â•     â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•
```

# ğŸ§¬ EcoliTyper

**A species-optimized computational pipeline for comprehensive genotyping and surveillance of *Escherichia coli***

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8-3.11](https://img.shields.io/badge/Python-3.8--3.11-blue.svg)](https://www.python.org/)
[![Platform](https://img.shields.io/badge/Platform-Linux%20%7C%20macOS%20%7C%20Windows-lightgrey.svg)](https://github.com/bbeckley-hub/EcoliTyper)

## ğŸŒŸ Overview

**EcoliTyper** is a revolutionary bioinformatics pipeline that transforms fragmented *E. coli* genomic analysis into a unified, intelligent workflow. Say goodbye to juggling multiple disconnected tools! ğŸ¯

> *"We shall not cease from exploration, and the end of all our exploring will be to arrive where we started and know the place for the first time."* - T.S. Eliot

### ğŸš€ Why EcoliTyper?

| Before EcoliTyper ğŸ˜« | With EcoliTyper ğŸ‰ |
|---------------------|-------------------|
| 7+ different tools to run manually | **Single command** does it all |
| Manual data synthesis & cross-referencing | **Automated pattern discovery** & risk assessment |
| Installation conflicts & dependency hell | **Self-contained Conda package** |
| Hours of manual analysis | **Intelligent insights** in minutes |
| Fragmented, disconnected results | **Coherent biological narratives** |

## âœ¨ Key Features

### ğŸ§© Comprehensive Integration
- **ğŸ§¬ MLST Typing** - Multi-Locus Sequence Typing
- **ğŸ” Serotyping** - O and H antigen determination
- **ğŸ¯ CH Typing** - High-resolution *fumC/fimH* typing
- **ğŸŒ³ Phylogrouping** - Clermont 2013 scheme
- **ğŸ’Š AMR Profiling** - Comprehensive resistance gene detection
- **ğŸ¦  Virulence Analysis** - Pathogenicity assessment
- **ğŸ“Š Lineage Context** - Curated database of high-risk clones

### ğŸ§  Intelligent Analytics
- **ğŸ”¬ Cross-genome pattern discovery**
- **âš ï¸ Automated clinical risk assessment**
- **ğŸ“ˆ Gene frequency analysis**
- **ğŸšï¸ Tiered alert system** (CRITICAL, WARNING)
- **ğŸŒ Epidemiological contextualization**

### âš¡ Performance Optimized
- **ğŸš€ Parallel execution architecture**
- **ğŸ›ï¸ Dynamic resource allocation**
- **ğŸ“¦ Self-contained dependency management**
- **âš–ï¸ Memory-aware processing**

## ğŸ› ï¸ Installation

### Prerequisites
- **Conda** (Miniconda or Anaconda)

### Quick Install (Recommended)
```bash
conda create -n ecolityper -c bbeckley-hub -c conda-forge ecolityper -y
conda activate ecolityper
```

### Development Install
```bash
git clone https://github.com/bbeckley-hub/EcoliTyper.git
cd EcoliTyper
pip install -e .
```

### Database Setup
```bash
# Update AMRfinderPlus databases
amrfinder -u

# Setup ABRicate databases
abricate --setupdb
```

## ğŸ¯ Usage

### Basic Single Genome Analysis
```bash
ecolityper -i genome.fna -o results/
```

### High-Throughput Batch Processing
```bash
ecolityper -i "*.fna" -o batch_results --threads 8
```

### Customized Analysis (Skip Specific Modules)
```bash
ecolityper -i "*.fasta" -o analysis --threads 16 --skip-lineage
```

### Complete Command Reference
```bash
usage: ecolityper [-h] -i INPUT -o OUTPUT [-t THREADS] [--skip-amrfinder]
                  [--skip-abricate] [--skip-mlst] [--skip-serotyping]
                  [--skip-chtyper] [--skip-phylogrouping] [--skip-lineage]

EcoliTyper: Complete E. coli Typing Pipeline

options:
  -h, --help            show this help message and exit
  -i INPUT, --input INPUT
                        Input FASTA file(s) - can use glob patterns like
                        "*.fna" or "*.fasta"
  -o OUTPUT, --output OUTPUT
                        Output directory for all results
  -t THREADS, --threads THREADS
                        Number of threads (default: 2)
  --skip-amrfinder      Skip AMRfinderPlus analysis
  --skip-abricate       Skip ABRicate analysis
  --skip-mlst           Skip MLST analysis
  --skip-serotyping     Skip serotyping analysis
  --skip-chtyper        Skip CH typing analysis
  --skip-phylogrouping  Skip phylogrouping analysis
  --skip-lineage        Skip lineage reference generation
```

## ğŸ“Š Output Structure

```
results/
â”œâ”€â”€ ğŸ“„ individual_reports/          # Per-genome HTML reports
â”œâ”€â”€ ğŸ“Š cross_genome_analysis/       # Population-level insights
â”œâ”€â”€ ğŸ”¬ mlst_results/                # Sequence typing results
â”œâ”€â”€ ğŸ§ª serotype_results/            # O:H antigen typing
â”œï¸â”€â”€ ğŸ¯ chtyper_results/            # fumC/fimH typing
â”œï¸â”€â”€ ğŸŒ³ phylogroup_results/         # Clermont phylogrouping
â”œï¸â”€â”€ ğŸ’Š amrfinder_results/          # NCBI AMR detection
â”œï¸â”€â”€ ğŸ¦  abricate_results/           # Multi-database screening
â”œï¸â”€â”€ ğŸ“ˆ lineage_context/            # Epidemiological context
â””ï¸â”€â”€ ğŸ“‹ summary_files/              # Consolidated TSV/JSON files
```

## ğŸ¨ Example Reports

### ğŸ” Cross-Genome Pattern Discovery
![Cross-genome Analysis](https://via.placeholder.com/800x400/4A90E2/FFFFFF?text=Interactive+Gene+Frequency+Analysis)

### ğŸ’Š Antimicrobial Resistance Profiling
![AMR Profile](https://via.placeholder.com/800x400/50E3C2/FFFFFF?text=Resistance+Gene+Distribution+Map)

### ğŸ¦  Virulence Factor Analysis
![Virulence Profile](https://via.placeholder.com/800x400/B8E986/FFFFFF?text=Virulence+Factor+Prevalence)

## âš¡ Performance Benchmarks

| Scenario | Genomes | Time | Hardware |
|----------|---------|------|----------|
| ğŸ¢ Standard Workstation | 30 genomes | ~80-150 min | 2 CPU cores, 8GB RAM |
| ğŸš€ High-Performance | 30 genomes | **~41 min** | 16 CPU cores, 16GB RAM |
| âš¡ Single Genome | 1 genome | 1-6 min | Variable |

## ğŸ“‹ Supported Input Formats

- `.fna` âœ…
- `.fasta` âœ…  
- `.fa` âœ…
- `.fsa` âœ…

## ğŸ†š Feature Comparison

| Feature | EcoliTyper | ECTyper | Bactopia | Mykrobe |
|---------|------------|---------|----------|---------|
| **Species Focus** | ğŸ¯ *E. coli* specific | *E. coli* specific | Multi-species | Multi-species |
| **MLST** | âœ… | âŒ | âœ… | âŒ |
| **Serotyping** | âœ… | âœ… | âœ… | âŒ |
| **CH Typing** | âœ… | âŒ | âŒ | âŒ |
| **Phylogrouping** | âœ… | âŒ | âœ… | âŒ |
| **Cross-genome Analysis** | âœ… | âŒ | âŒ | âŒ |
| **Lineage Database** | âœ… | âŒ | âŒ | âŒ |
| **Installation** | âš¡ Fast (minutes) | Fast | Slow (complex) | Fast |

## ğŸ“ Citation

If you use EcoliTyper in your research, please cite:

```bibtex
@software{beckley2024ecolityper,
  title = {EcoliTyper: A species-optimized computational pipeline for comprehensive genotyping and surveillance of Escherichia coli},
  author = {Beckley, Brown and Amarh, Vincent},
  year = {2025},
  publisher = {GitHub},
  journal = {GitHub repository},
  howpublished = {\url{https://github.com/bbeckley-hub/EcoliTyper}},
  doi = {10.5281/zenodo.17226894}
}
```

### ğŸ“š Integrated Tool Citations

Please also cite these foundational tools:

```bibtex
% SerotypeFinder
@article{joensen2015rapid,
  title={Rapid and easy in silico serotyping of Escherichia coli using whole genome sequencing (WGS) data},
  author={Joensen, KG and others},
  journal={Journal of Clinical Microbiology},
  year={2015}
}

% MLST
@article{larsen2012multilocus,
  title={Multilocus sequence typing of total genome sequenced bacteria},
  author={Larsen, M and others},
  journal={Journal of Clinical Microbiology},
  year={2012}
}

% KMA
@article{clausen2018rapid,
  title={Rapid and precise alignment of raw reads against redundant databases with KMA},
  author={Clausen, P and others},
  journal={BMC Bioinformatics},
  year={2018}
}

% CH Typing
@article{roer2018chtyper,
  title={CHTyper, a web tool for subtyping of extraintestinal pathogenic Escherichia coli},
  author={Roer, L and others},
  journal={Journal of Clinical Microbiology},
  year={2018}
}

% EzClermont
@article{waters2020easy,
  title={Easy phylotyping of Escherichia coli via the EzClermont web app and command-line tool},
  author={Waters, NR and others},
  journal={Access Microbiology},
  year={2020}
}
```

## ğŸ¤ Contributing

We welcome contributions! Please feel free to submit issues, fork the repository, and create pull requests.

1. ğŸ´ Fork the repository
2. ğŸŒ¿ Create a feature branch (`git checkout -b amazing-feature`)
3. ğŸ’¾ Commit your changes (`git commit -m 'Add amazing feature'`)
4. ğŸš€ Push to the branch (`git push origin amazing-feature`)
5. ğŸ”” Open a Pull Request

## ğŸ› Issue Reporting

Found a bug? Have a feature request? Please let us know by [creating an issue](https://github.com/bbeckley-hub/EcoliTyper/issues).

## ğŸ“œ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ‘¥ Authors

- **Brown Beckley** - *Creator & Lead Developer* - [GitHub](https://github.com/bbeckley-hub)
- **Dr. Vincent Amarh** - *Supervisor & Advisor*

## ğŸ™ Acknowledgments

- The open-source bioinformatics community ğŸ‘
- Developers of integrated foundational tools ğŸ”§
- Center for Genomic Epidemiology & PubMLST ğŸ—„ï¸
- Colleagues who provided invaluable feedback during testing ğŸ§ª

## ğŸ“ Contact

**Beckley Brown**  
ğŸ“§ [brownbeckley94@gmail.com](mailto:brownbeckley94@gmail.com)  
ğŸŒ [GitHub Profile](https://github.com/bbeckley-hub)  
ğŸ”— [EcoliTyper Repository](https://github.com/bbeckley-hub/EcoliTyper)

---

<div align="center">

**â­ Star us on GitHub if you find this tool useful!**

*Transforming fragmented genomic data into coherent biological narratives* ğŸ§¬âœ¨

</div>
